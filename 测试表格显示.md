# æµ‹è¯•è¡¨æ ¼æ˜¾ç¤ºåŠŸèƒ½

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
python full_server.py
```

æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼Œç¡®è®¤ï¼š
```
[OK] Loaded 4 table nodes: ['PreviewTable', 'LoadCSV', 'LoadExcel', 'DataFrameToTable']
[OK] Loaded web_extensions from: ...
[OK] Injected 1 extension script(s)
[>>] Web extensions: 1 file(s) loaded
[>>] Server running at: http://127.0.0.1:8188
```

### 2. æ‰“å¼€æµè§ˆå™¨

è®¿é—®ï¼š`http://127.0.0.1:8188`

### 3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°

æŒ‰ **F12**ï¼Œåˆ‡æ¢åˆ° **Console** æ ‡ç­¾

åº”è¯¥çœ‹åˆ°ï¼š
```
[TablePreview] Loading table preview extension...
[TablePreview] ComfyUI loaded, registering extension...
[TablePreview] Using event-based API
  æˆ–
[TablePreview] Using direct monitoring
[TablePreview] WebSocket monitoring active
```

### 4. åˆ›å»ºæµ‹è¯•å·¥ä½œæµ

#### æ–¹æ³•Aï¼šåŠ è½½CSVæ–‡ä»¶

1. æ·»åŠ èŠ‚ç‚¹ `LoadCSV`
2. è®¾ç½®å‚æ•°ï¼š
   - `file_path`: `examples/sample_data.csv`
3. æ·»åŠ èŠ‚ç‚¹ `PreviewTable`
4. è¿æ¥ï¼š`LoadCSV` â†’ `PreviewTable`
5. ç‚¹å‡» **Queue Prompt**

#### æ–¹æ³•Bï¼šä½¿ç”¨Pythonæµ‹è¯•æ•°æ®

å¦‚æœä½ æœ‰PythonèŠ‚ç‚¹ï¼Œå¯ä»¥ï¼š

```python
import pandas as pd

# åˆ›å»ºæµ‹è¯•æ•°æ®
data = pd.DataFrame({
    "Name": ["Alice", "Bob", "Charlie"],
    "Age": [25, 30, 35],
    "City": ["NY", "LA", "SF"]
})

return {"result": (data,)}
```

ç„¶åè¿æ¥åˆ° `PreviewTable`ã€‚

### 5. éªŒè¯ç»“æœ

#### åç«¯æ—¥å¿—ï¼ˆæ§åˆ¶å°ï¼‰
```
[*] Executing node 1: LoadCSV
    [OK] Loaded CSV: 10 rows Ã— 5 cols
[*] Executing node 2: PreviewTable
    [OK] Preview table: 10 rows Ã— 5 cols
[OK] Node 2 executed successfully
```

#### å‰ç«¯æ—¥å¿—ï¼ˆæµè§ˆå™¨F12ï¼‰
```
[TablePreview] Received table data: {...}
  æˆ–
[TablePreview] Received table via WebSocket: {...}
```

#### è¡¨æ ¼æ˜¾ç¤º
åº”è¯¥è‡ªåŠ¨å¼¹å‡ºä¸€ä¸ª**æš—è‰²ä¸»é¢˜çš„è¡¨æ ¼çª—å£**ï¼Œæ˜¾ç¤ºæ•°æ®ã€‚

### 6. äº¤äº’æµ‹è¯•

- âœ… è¡¨æ ¼æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰æ•°æ®
- âœ… åˆ—å¤´æ˜¾ç¤ºæ•°æ®ç±»å‹
- âœ… è¡Œå·æ­£ç¡®
- âœ… å¯ä»¥æ»šåŠ¨æŸ¥çœ‹
- âœ… ç‚¹å‡»"å…³é—­"æŒ‰é’®å¯å…³é—­
- âœ… ç‚¹å‡»èƒŒæ™¯é®ç½©å¯å…³é—­
- âœ… æŒ‰ESCé”®å¯å…³é—­

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: æ‰©å±•æœªåŠ è½½

**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æ²¡æœ‰ `[TablePreview]` æ—¥å¿—

**è§£å†³**ï¼š
1. æ£€æŸ¥æœåŠ¡å™¨å¯åŠ¨æ—¥å¿—æ˜¯å¦æ˜¾ç¤ºæ‰©å±•åŠ è½½
2. å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+Shift+Rï¼‰
3. é‡å¯æœåŠ¡å™¨

### é—®é¢˜2: "app.registerExtension is not a function"

**ç—‡çŠ¶**ï¼šçœ‹åˆ°è¿™ä¸ªé”™è¯¯

**è§£å†³**ï¼š
- å·²ä¿®å¤ï¼ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ `tablePreview.js`
- å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¿è¡Œï¼š
  ```bash
  git pull
  # æˆ–
  git checkout tablePreview.js
  ```

### é—®é¢˜3: è¡¨æ ¼ä¸æ˜¾ç¤º

**ç—‡çŠ¶**ï¼šèŠ‚ç‚¹æ‰§è¡ŒæˆåŠŸï¼Œä½†æ²¡æœ‰å¼¹å‡ºè¡¨æ ¼

**è°ƒè¯•æ­¥éª¤**ï¼š

1. **æ£€æŸ¥åç«¯è¾“å‡º**ï¼š
   ```
   [OK] Preview table: X rows Ã— Y cols
   ```
   å¦‚æœæ²¡æœ‰è¿™ä¸ªï¼Œè¯´æ˜æ•°æ®æ²¡åˆ°è¾¾PreviewTableèŠ‚ç‚¹ã€‚

2. **æ£€æŸ¥å‰ç«¯æ§åˆ¶å°**ï¼š
   ```
   [TablePreview] Received table data: ...
   ```
   å¦‚æœæ²¡æœ‰è¿™ä¸ªï¼Œè¯´æ˜å‰ç«¯æ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯ã€‚

3. **æ£€æŸ¥WebSocketè¿æ¥**ï¼š
   - åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ Network â†’ WSæ ‡ç­¾
   - ç¡®è®¤æœ‰WebSocketè¿æ¥åˆ° `ws://127.0.0.1:8188/ws`

4. **æŸ¥çœ‹æ¶ˆæ¯æ ¼å¼**ï¼š
   åœ¨æ§åˆ¶å°è¿è¡Œï¼š
   ```javascript
   // ç›‘å¬æ‰€æœ‰æ¶ˆæ¯
   const ws = new WebSocket('ws://127.0.0.1:8188/ws');
   ws.onmessage = (e) => console.log('WS:', e.data);
   ```

### é—®é¢˜4: è¡¨æ ¼æ•°æ®ä¸ºç©º

**ç—‡çŠ¶**ï¼šå¼¹çª—æ˜¾ç¤º"Empty data"æˆ–"No data"

**æ£€æŸ¥**ï¼š
1. LoadCSVæ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. CSVæ–‡ä»¶æ˜¯å¦ä¸ºç©º
3. æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆåº”è¯¥æ˜¯DataFrameæˆ–å…¼å®¹æ ¼å¼ï¼‰

### é—®é¢˜5: Tupleé”™è¯¯

**ç—‡çŠ¶**ï¼š`Unsupported data type: tuple`

**è§£å†³**ï¼š
- å·²ä¿®å¤ï¼æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
- å¦‚æœè¿˜æœ‰é—®é¢˜ï¼š
  ```bash
  git pull
  ```

## ğŸ“Š é¢„æœŸè¾“å‡ºç¤ºä¾‹

### æˆåŠŸçš„å®Œæ•´æµç¨‹ï¼š

#### 1. æœåŠ¡å™¨å¯åŠ¨
```
[OK] Loaded 4 table nodes: ['PreviewTable', 'LoadCSV', 'LoadExcel', 'DataFrameToTable']
[OK] Loaded web_extensions from: C:\...\simple_comfyui\web_extensions
[OK] Injected 1 extension script(s)
[>>] Web extensions: 1 file(s) loaded
[>>] Server running at: http://127.0.0.1:8188
```

#### 2. æµè§ˆå™¨æ§åˆ¶å°
```
[TablePreview] Loading table preview extension...
[TablePreview] ComfyUI loaded, registering extension...
[TablePreview] WebSocket monitoring active
```

#### 3. æ‰§è¡Œå·¥ä½œæµ
```
[*] Executing node 1: LoadCSV
    [OK] Loaded CSV: 10 rows Ã— 5 cols
[*] Executing node 2: PreviewTable
    [OK] Preview table: 10 rows Ã— 5 cols
[OK] Node 2 executed successfully
```

#### 4. æµè§ˆå™¨æ§åˆ¶å°
```
[TablePreview] Received table via WebSocket: Object
```

#### 5. è¡¨æ ¼å¼¹çª—æ˜¾ç¤º
- æš—è‰²ä¸»é¢˜
- æ ‡é¢˜ï¼š"Data Table" æˆ–è‡ªå®šä¹‰æ ‡é¢˜
- æ˜¾ç¤ºï¼š"10 rows Ã— 5 columns"
- å®Œæ•´è¡¨æ ¼æ•°æ®

## âœ… æµ‹è¯•æ¸…å•

- [ ] æœåŠ¡å™¨æˆåŠŸå¯åŠ¨
- [ ] æ‰©å±•æˆåŠŸåŠ è½½ï¼ˆæ—¥å¿—ç¡®è®¤ï¼‰
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯
- [ ] LoadCSVèŠ‚ç‚¹æ‰§è¡ŒæˆåŠŸ
- [ ] PreviewTableèŠ‚ç‚¹æ‰§è¡ŒæˆåŠŸ
- [ ] è¡¨æ ¼å¼¹çª—è‡ªåŠ¨æ˜¾ç¤º
- [ ] æ•°æ®æ­£ç¡®æ˜¾ç¤º
- [ ] å¯ä»¥å…³é—­å¼¹çª—
- [ ] å¯ä»¥æ»šåŠ¨æŸ¥çœ‹æ•°æ®

## ğŸ“ æŠ¥å‘Šé—®é¢˜

å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè¯·æä¾›ï¼š

1. **æœåŠ¡å™¨å¯åŠ¨æ—¥å¿—**ï¼ˆå®Œæ•´ï¼‰
2. **æµè§ˆå™¨æ§åˆ¶å°æ—¥å¿—**ï¼ˆF12 â†’ Consoleï¼‰
3. **å·¥ä½œæµé…ç½®**ï¼ˆèŠ‚ç‚¹å’Œè¿æ¥ï¼‰
4. **é”™è¯¯æˆªå›¾**ï¼ˆå¦‚æœæœ‰ï¼‰

---

**ç¥æµ‹è¯•é¡ºåˆ©ï¼** ğŸ‰

