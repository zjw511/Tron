# 项目结构说明

## 📁 目录结构

```
simple_comfyui/
├── 📄 核心文件
│   ├── full_server.py          # ComfyUI 服务器主程序
│   ├── nodes.py                # 基础节点定义（6个节点）
│   ├── signal_nodes.py         # 信号处理节点（14个节点）
│   ├── requirements.txt        # Python依赖
│   ├── README.md               # 项目说明文档
│   ├── START_FULL.bat          # Windows启动脚本（完整功能）
│   └── start_modular.bat       # Windows启动脚本（模块化）
│
├── 📂 docs/ - 文档目录
│   ├── 信号分析器使用指南.md   # 详细使用教程
│   └── SEND_SIGNAL_README.md   # 数据发送工具说明
│
├── 📂 tests/ - 测试目录
│   ├── test_integration.py              # 集成测试
│   ├── test_network_receiver_fix.py     # 网络接收器测试
│   └── test_signal_nodes.py             # 信号节点测试
│
├── 📂 examples/ - 示例目录
│   └── signal_nodes_example.py          # 信号节点使用示例
│
├── 📂 scripts/ - 工具脚本目录
│   ├── send_signal_data.py              # 信号数据发送器
│   └── send_signal_data.bat             # 发送器快捷启动
│
├── 📂 input/ - 输入文件目录
│   ├── checkerboard.png
│   ├── random.png
│   └── test.png
│
├── 📂 output/ - 输出文件目录
│   └── (生成的图片和数据文件)
│
├── 📂 temp/ - 临时文件目录
│   └── (临时图片文件)
│
├── 📂 user/ - 用户数据目录
│   └── workflows/
│       └── signal.json                  # 保存的工作流
│
└── 📂 web_extensions/ - Web扩展目录
    └── (前端扩展)
```

---

## 📦 核心模块

### 🖥️ 服务器模块

**full_server.py**
- ComfyUI 服务器主程序
- 提供 23+ API 端点
- WebSocket 实时通信
- 工作流执行引擎
- 用户数据存储

### 🔧 节点模块

**nodes.py** - 基础节点（6个）
- LoadImage - 加载图片
- SaveImage - 保存图片
- ImageScale - 图片缩放
- PreviewImage - 图片预览
- PrimitiveFloat - 浮点数输入
- PrimitiveString - 字符串输入

**signal_nodes.py** - 信号处理节点（14个）
1. 📡 NetworkReceiver - 网络数据接收
2. 🔍 FrameParser - 帧结构解析
3. 🔄 DataConverter - 数据格式转换
4. 📈 SpectrumAnalyzer - 频谱分析
5. 🧭 AzimuthProcessor - 方位角处理
6. 🎯 SignalClassifier - 信号分类
7. 📶 FrequencyDetector - 频点检测
8. ⏱️ SymbolRateAnalyzer - 符号速率分析
9. ⭐ ConstellationDiagram - 星座图
10. 📺 SignalMonitor - 信号监视器（控制台）
11. 📋 SignalInfoImage - 信号信息面板（浏览器）
12. 📦 DataBuffer - 数据缓冲器
13. 📊 BufferMonitor - 缓冲区监控
14. 💾 RawDataSaver - 原始数据保存

---

## 🚀 快速开始

### 启动服务器

**Windows**:
```bash
START_FULL.bat
```

**命令行**:
```bash
python full_server.py
```

### 访问界面

浏览器打开：`http://127.0.0.1:8188`

---

## 📖 文档

- **README.md** - 项目总览和快速开始
- **docs/信号分析器使用指南.md** - 详细使用教程
- **docs/SEND_SIGNAL_README.md** - 数据发送工具说明

---

## 🧪 测试

运行所有测试：
```bash
# 集成测试
python tests/test_integration.py

# 信号节点测试
python tests/test_signal_nodes.py

# 网络接收器测试
python tests/test_network_receiver_fix.py
```

---

## 🛠️ 工具脚本

### 信号数据发送器

```bash
# Windows
scripts\send_signal_data.bat

# 命令行
python scripts/send_signal_data.py
```

---

## 📊 数据目录

- **input/** - 存放输入图片和数据文件
- **output/** - 存放生成的图片和处理结果
- **temp/** - 存放临时文件（自动清理）
- **user/** - 存放用户工作流和配置

---

## 🔒 .gitignore

以下内容被 git 忽略：
- `__pycache__/`
- `*.pyc`
- `temp/`
- `output/` (部分)
- `user/*` (除了 `.gitkeep`)

---

## 📝 版本信息

- **当前版本**: v1.2.4
- **节点总数**: 20个（6个基础 + 14个信号处理）
- **API端点**: 23+
- **Python版本**: 3.8+

---

## 🎯 项目特色

✅ **完整的信号处理系统**
- 网络数据接收和解析
- 多种信号分析和可视化
- 实时监控和缓冲管理

✅ **友好的用户界面**
- Web界面操作
- 中文完整支持
- 实时预览和监控

✅ **强大的扩展性**
- 模块化节点系统
- 易于添加新节点
- 完善的API接口

---

**更新时间**: 2025-10-26  
**状态**: ✅ 完全可用

